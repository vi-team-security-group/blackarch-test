#!/bin/bash

# Цветове за по-добра видимост
RED='\033[0;31m'
GREEN='\033[0;32m'
CYAN='\033[0;36m'
NC='\033[0m' # Без цвят

# Заглавие
clear
cat <<EOF
${CYAN}******************************
          Vi Script
       Update Metasploit
  Created by: Mastervi
  Contact: mastervi@mail.bg
******************************${NC}
EOF

# Изчакване
echo -e "${GREEN}Натисни Enter, за да продължиш...${NC}"
read -r

# Основна логика
echo -e "${CYAN}Отивам в директорията на Exploit-DB...${NC}"
cd /usr/share/exploitdb || { echo -e "${RED}Грешка: Не може да се достъпи /usr/share/exploitdb${NC}"; exit 1; }

echo -e "${CYAN}Премахвам стария архив (ако съществува)...${NC}"
rm -f archive.tar.bz2

echo -e "${CYAN}Свалям последната версия от GitHub...${NC}"
wget -q --show-progress https://github.com/offensive-security/exploit-database/archive/master.zip || {
    echo -e "${RED}Неуспешно сваляне.${NC}"
    exit 1
}

echo -e "${CYAN}Разархивирам...${NC}"
unzip -q master.zip || {
    echo -e "${RED}Неуспешно разархивиране.${NC}"
    exit 1
}

echo -e "${CYAN}Почиствам...${NC}"
rm -f master.zip

echo -e "${GREEN}Готово! Exploit-DB е обновен успешно.${NC}"
sleep 2